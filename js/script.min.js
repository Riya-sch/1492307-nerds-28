var modalOpen=document.querySelector(".contact-info-button"),modalFeedback=document.querySelector(".modal-feedback"),modalClose=modalFeedback.querySelector(".close-button"),modalForm=modalFeedback.querySelector(".feedback-form"),modalLogin=modalFeedback.querySelector("[name=name]"),modalEmail=modalFeedback.querySelector("[name=email]"),modalMessage=modalFeedback.querySelector("[name=message]"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}modalOpen.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-active"),modalLogin.focus(),storageName?(modalLogin.value=storageName,modalEmail.focus()):modalLogin.focus(),storageEmail&&(modalEmail.value=storageEmail,modalMessage.focus())}),modalForm.addEventListener("submit",function(e){modalLogin.value&&modalEmail.value&&modalMessage.value?isStorageSupport&&(localStorage.setItem("name",modalLogin.value),localStorage.setItem("email",modalEmail.value)):(e.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"))}),modalClose.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("modal-active"),modalFeedback.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalFeedback.classList.contains("modal-active")&&(e.preventDefault(),modalFeedback.classList.remove("modal-active"),modalFeedback.classList.remove("modal-error"))});